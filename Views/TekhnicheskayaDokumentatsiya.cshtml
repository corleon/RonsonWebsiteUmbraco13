@using Umbraco.Cms.Web.Common.PublishedModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<ContentModels.TekhnicheskayaDokumentatsiya>
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels;
@using Umbraco.Extensions;
@{
    Layout = "Master.cshtml";

    var docPages = Model.Children<ContentModels.Dokumentatsiya>()
       .Where(x => x.IsVisible())
       .OrderBy(x => x.SortOrder);
}
<section data-reveal-stagger="" class="container mx-auto mb-16">


    <!-- ===== РЯД 1 (3 элемента) ===== -->
    <div class="grid md:grid-cols-4 md:gap-6 gap-y-10 mb-14 md:mb-20">
        @if (docPages.Any())
        {
            @foreach (var doc in docPages)
            {
                var mainImage = doc.Izobrazhenie;
                var imageUrl = mainImage?.Url() ?? "/assets/img/placeholder.jpg";
                var imageAlt = mainImage?.Value<string>("altText") ?? doc.Name;

                <article class="md:col-span-1 flex flex-col group">
                    <div class="w-full aspect-[3/2] md:aspect-auto md:h-[300px] overflow-hidden rounded-4xl">
                        <img src="@imageUrl"
                             alt="@imageAlt" class="w-full h-full object-cover rounded-4xl" loading="lazy">
                    </div>
                    <div class="mt-4 md:mt-8 flex flex-col ">
                        <a href="@doc.Url()">
                            <h4 class="mt-3 md:mt-0 group-hover:text-[#BD1A1A] transition-colors mb-4">
                                @doc.Name
                            </h4>
                        </a>
                    </div>
                </article>
            }
        }
    </div>
</section>